name: "Bug report: Nextcloud Server"
description: "Submit a report and help us improve Nextcloud Server"
title: "[Bug]: "
labels: ["bug", "needs triage"]
body:
  - type: markdown
    attributes:
      value: "### Thank you for contributing to our project!"
  - type: markdown
    attributes:
      value: |
        Before submitting, we'd appreciate it if you:
          - Verify that your issue is not already reported. Search for it on Github.
          - Check if your Nextcloud Server is up to date. If not, we recommend that you update it first.
  - type: textarea
    id: bug-description
    attributes:
      label: Bug description
      description: Provide a description of the bug you're experiencing.
    validations:
      required: true
  - type: textarea
    id: reproduce
    attributes:
      label: Steps to reproduce
      description: Describe the steps to reproduce the bug.
      value: |
        1.
        2.
        3.
        ...
    validations:
      required: true
  - type: textarea
    id: expected-behavior
    attributes:
      label: Expected behavior
      description: Describe what you expected to happen.
    validations:
      required: true
  - type: dropdown
    id: install-method
    attributes:
      label: Installation method
      description: |
        Select installation method you used.
        Describe the method in the "Additional info" section if you chose "other".
      options:
        - "Manual installation"
        - "Official Docker image"
        - "Official VM scripts"
        - "Official SNAP package"
        - "Web installer on a VPS or web space"
        - "Other"
    validations:
      required: true
  - type: dropdown
    id: system
    attributes:
      label: Operating system
      description: |
        Select operating system where Nextcloud Server is installed.
        Describe in the "Additional info" section if you chose "Other".
      options:
        - "Debian/Ubuntu"
        - "RHEL/CentOS"
        - "Other"
    validations:
      required: true
  - type: dropdown
    id: php
    attributes:
      label: PHP engine version
      description: |
        Select PHP engine version serving Nextcloud Server.
        Describe in the "Additional info" section if you chose "Other".
      options:
        - "PHP 7.3"
        - "PHP 7.4"
        - "PHP 8.0"
        - "PHP 8.1"
        - "Other"
    validations:
      required: true
  - type: dropdown
    id: webserver
    attributes:
      label: Web server
      description: |
        Select Webserver serving Nextcloud Server.
        Describe in the "Additional info" section if you chose "Other".
      options:
        - "Apache (supported)"
        - "Nginx"
        - "Lighttpd"
        - "Other"
    validations:
      required: true
  - type: dropdown
    id: database
    attributes:
      label: Database engine version
      description: |
        Select Database engine serving Nextcloud Server.
        Describe in the "Additional info" section if you chose "Other".
      options:
        - "MySQL"
        - "MariaDB"
        - "PostgreSQL"
        - "Other"
    validations:
      required: true
  - type: dropdown
    id: fresh
    attributes:
      label: Is this bug present after an update or on a fresh install?
      description: |
        Select if bug is present after an update or on a fresh install.
      options:
        - "Updated from a minor version (ex. 22.2.3 to 22.2.4)"
        - "Updated to a major version (ex. 22.2.3 to 23.0.1)"
        - "Fresh Nextcloud Server install"
    validations:
      required: true
  - type: dropdown
    id: encryption
    attributes:
      label: Are you using the Nextcloud Server Encryption module?
      description: |
        Select if encryption is Enabled on your Nextcloud Server.
      options:
        - "Enabled"
        - "Disabled"
    validations:
      required: true
  - type: dropdown
    id: users
    attributes:
      label: Are you using an external user-backend?
      description: |
        Select if an external user-backend is Enabled on your Nextcloud Server.
        Describe in the "Additional info" section if you chose "Other".
      options:
        - "LDAP/ Active Directory"
        - "SSO - SAML"
        - "Other"
    validations:
      required: true
  - type: textarea
    id: configs
    attributes:
      label: Configuration report
      description: |
        Provide information about your configuration.
        To get this information, execute one of the following commands on the CLI:
        ```shell
        sudo -u www-data php occ config:list system
        php occ config:list system
        ./occ config:list system
        ```
        > NOTE: This will be automatically formatted into code.
      render: shell
    validations:
      required: false
  - type: textarea
    id: apps
    attributes:
      label: List of activated Apps
      description: |
        Provide information about your apps.
        To get this information, execute one of the following commands on the CLI:
        ```shell
        sudo -u www-data php occ app:list
        php occ app:list
        ./occ app:list
        ```
        > NOTE: This will be automatically formatted into code.
      render: shell
    validations:
      required: false
  - type: textarea
    id: nextcloud-signingstatus
    attributes:
      label: Nextcloud Signing status
      description: |
        Provide Nextcloud Signing status.
        First, login as Admin user into your Nextcloud, then access this URL:
        ```shell
        https://yournextcloud.com/index.php/settings/integrity/failed 
        ```
        > NOTE: This will be automatically formatted into code.
      render: shell
    validations:
      required: true
  - type: textarea
    id: nextcloud-log
    attributes:
      label: Nextcloud Logs
      description: |
        Provide Nextcloud logs lines.
        Copy all contents from `data/nextcloud.log` or a RAW from `/settings/admin/logging` section:
        > NOTE: This will be automatically formatted into code.
      render: shell
    validations:
      required: false
  - type: textarea
    id: additional-info
    attributes:
      label: Additional info
      description: Any additional information related to the issue (ex. browser console errors, software versions).
    validations:
      required: true
  - type: checkboxes
    id: issue-terms
    attributes:
      label: This is a bug, not a question or a configuration issue
      description: By submitting this issue, you agree to use Github only to report bugs on this project code
      options:
        - label: This is a bug, not a question or a configuration issue
          required: true
  - type: checkboxes
    id: coc-terms
    attributes:
      label: Code of Conduct
      description: By submitting this issue, you agree to follow our [Code of Conduct](https://nextcloud.com/contribute/code-of-conduct/)
      options:
        - label: I agree to follow Nextcloud's Code of Conduct
          required: true
